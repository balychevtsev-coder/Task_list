📁 СТРУКТУРА ПРОЕКТА telegram_task_bot
═══════════════════════════════════════════════════════════════════

telegram_task_bot/
│
├── 📄 main.py                    # 🚀 Точка входа - запуск бота
│                                  # Регистрация обработчиков и запуск polling
│
├── 📄 config.py                  # ⚙️ Конфигурация
│                                  # BOT_TOKEN, DATABASE_PATH
│
├── 📄 requirements.txt           # 📦 Зависимости проекта
│                                  # aiogram, python-dotenv
│
├── 📄 .env                       # 🔒 Переменные окружения (создать вручную!)
│                                  # BOT_TOKEN=ваш_токен
│
├── 📄 .gitignore                 # 🚫 Игнорируемые файлы для Git
│
├── 📄 README.md                  # 📚 Полная документация
│
├── 📄 SETUP.md                   # 🛠️ Быстрая инструкция по настройке
│
├── 📄 STRUCTURE.txt              # 📋 Этот файл - описание структуры
│
├── 📁 database/                  # 💾 Пакет для работы с БД
│   ├── __init__.py              # Экспорт класса Database
│   └── db.py                    # 🗄️ Класс Database для SQLite3
│                                  # - init_db() - создание таблицы
│                                  # - add_task() - добавление задачи
│                                  # - get_all_tasks() - получение всех задач
│                                  # - export_to_csv() - экспорт в CSV
│
├── 📁 handlers/                  # 🎯 Пакет с обработчиками команд
│   ├── __init__.py              # Экспорт всех роутеров
│   ├── start.py                 # 👋 Обработчик /start
│   │                              # Приветствие и список команд
│   ├── add_task.py              # ➕ Обработчик /add
│   │                              # Добавление задачи в БД
│   └── list_tasks.py            # 📋 Обработчики /list и /list_csv
│                                  # Вывод списка и экспорт CSV
│
└── 📁 keyboards/                 # ⌨️ Пакет с клавиатурами
    ├── __init__.py              # Экспорт функций клавиатур
    └── main_kb.py               # 🎹 Основная клавиатура
                                   # Кнопки быстрого доступа

═══════════════════════════════════════════════════════════════════

📊 ТАБЛИЦА БД: tasks (SQLite3)
═══════════════════════════════════════════════════════════════════

┌─────────────┬──────────────┬──────────────────────────────────┐
│ Поле        │ Тип          │ Описание                         │
├─────────────┼──────────────┼──────────────────────────────────┤
│ id          │ INTEGER      │ Уникальный ID (автоинкремент)    │
│ text        │ TEXT         │ Текст задачи                     │
│ user        │ TEXT         │ Username или имя пользователя    │
│ created_at  │ TIMESTAMP    │ Дата и время создания            │
└─────────────┴──────────────┴──────────────────────────────────┘

═══════════════════════════════════════════════════════════════════

🔄 ПОТОК ДАННЫХ
═══════════════════════════════════════════════════════════════════

1. Пользователь отправляет команду в Telegram
   ↓
2. Telegram отправляет обновление боту (polling)
   ↓
3. aiogram Dispatcher получает обновление
   ↓
4. Router направляет команду соответствующему обработчику
   ↓
5. Обработчик обрабатывает команду:
   - Взаимодействует с Database (если нужно)
   - Формирует ответ
   ↓
6. Ответ отправляется пользователю через Telegram API

═══════════════════════════════════════════════════════════════════

💡 КОМАНДЫ БОТА
═══════════════════════════════════════════════════════════════════

/start      → handlers/start.py       → cmd_start()
/add        → handlers/add_task.py    → cmd_add_task()
/list       → handlers/list_tasks.py  → cmd_list_tasks()
/list_csv   → handlers/list_tasks.py  → cmd_list_csv()

═══════════════════════════════════════════════════════════════════

🎨 ОСОБЕННОСТИ КОДА
═══════════════════════════════════════════════════════════════════

✅ Модульная структура - легко добавлять новые функции
✅ Подробные комментарии на русском языке
✅ Использование async/await для асинхронности
✅ Роутеры для организации обработчиков
✅ Context manager для работы с БД (with)
✅ Обработка ошибок (try/except)
✅ Логирование для отладки
✅ Type hints для лучшей читаемости

═══════════════════════════════════════════════════════════════════

